String.prototype.hashCode=function(){var e=5381;for(i=0;i<this.length;i++)char=this.charCodeAt(i),e=(e<<5)+e+char;return e>>>0};var Color=tinycolor,Shuffle=window.shuffle,shuffle=new Shuffle(document.querySelector(".tile-container"),{group:shuffle.ALL_ITEMS,itemSelector:".tile",gutterWidth:16,columnWidth:188,buffer:1,delimeter:",",useTransforms:!1}),filterTiles=function(e){shuffle.filter(location.hash.slice(1))};window.onhashchange=filterTiles;var getUrlParts=function(e){var t={domain:"",before:"",after:""},r=new URL(e),o=r.host;if(t.domain=o.replace(/^www\./i,""),o.match(/^\d+\.\d+\.\d+\.\d+$/))return t.domain=o,t;if(o.match(/^(\d+\.\d+\.\d+\.\d+)(:(\d+))?$/))return n=o.match(/^(\d+\.\d+\.\d+\.\d+)(:(\d+))?$/),t.domain=n[1],t.after=n[3],t;for(var n=t.domain.split("."),a=0,i=1;i<n.length-1;i++)n[i].length>n[a].length&&(a=i);return t.domain=n[a],t.before=n.slice(0,a).join("."),t.after=n.slice(a+1).join("."),!t.domain&&r.pathname&&(t.domain=r.pathname.split("/").filter(Boolean).pop()),t},fitText=function(e,t,r){var o=document.createElement("div");o.style.visibility="hidden",o.style.position="absolute",document.body.appendChild(o);var n=40;for(o.innerHTML=e,o.style.fontSize=n;o.offsetWidth>t;)n-=1,o.style.fontSize=n;var a={size:n,width:o.offsetWidth,height:o.offsetHeight};return o.remove(),a},getTileColor=function(e){var t=["#B42424","#C83D1D","#BB7231","#E06B00","#55931F","#1C941B","#189365","#189196","#2D85A4","#2B6C90","#205396","#39448F","#55338E","#683089","#963A97","#A43343","#982F2F","#D30000","#E54C29","#DA7E2C","#73B43A","#3AB43A","#3AB487","#3AB0B4","#47A6C7","#3A88B4","#3A6FB4","#3A4AB4","#673AB4","#863AB4","#C846C9","#C44A5B","#AA4444","#E84545","#FF6946","#EC9344","#3CA4DF","#3A83E3","#4056E3","#9058F0","#B467E2","#DF7CDF","#E5576B","#D35A5A","#3DC53D","#2DBBB1","#5E95D5","#5E5BE7","#1B7EFF","#5F74FF","#8A45FF","#B856F3","#DD66DD"];return t[e.hashCode()%t.length]},renderImgTile=function(e){e.innerHTML="";var t=e.getAttribute("data-bg-color");t||(t="rgba(255,255,255,.8)"),t=Color(t),t.setAlpha(.8),e.style.backgroundColor=t;var r=new Image;r.src=e.getAttribute("data-img"),r.className="logo",e.appendChild(r)},renderPlainTile=function(e){var t=getUrlParts(e.getAttribute("data-url"));e.innerHTML="";var r=e.getAttribute("data-bg-color");r||(r="rgba(255,255,255,.8)"),r=Color(r),r.setAlpha(.8),e.style.backgroundColor=r;var o=e.getAttribute("data-txt-color");o||(o=getTileColor(t.domain),r.isDark()&&(e.style.color="white")),o=Color(o),e.style.color=o;var n=376,a=240,i=8,l=fitText(t.domain,n-2*i,a),d=document.createElement("div");d.style.fontSize=l.size,d.style.position="absolute",e.appendChild(d);var s=document.createElement("div");s.innerHTML=t.before,s.style.top=.35*l.size-10,s.className="pre-domain",s.style.textShadow="-1px 0 "+r+",0 1px "+r+",1px 0 "+r+",0 -1px "+r;var c=document.createElement("div");c.innerHTML=t.after,c.style.top=l.size-.05*l.size,c.className="post-domain",c.style.textShadow="-1px 0 "+r+",0 1px "+r+",1px 0 "+r+",0 -1px "+r,d.appendChild(s),d.appendChild(document.createTextNode(t.domain)),d.appendChild(c);var u=(a+i)/2-2*d.clientHeight,g=(n+i)/2+i-d.clientWidth/2;d.style.top=u,d.style.left=g},renderTiles=function(){for(var e=document.getElementsByClassName("tile-box"),t=0;t<e.length;t++)try{e.item(t).getAttribute("data-img")?renderImgTile(e.item(t)):renderPlainTile(e.item(t))}catch(e){console.log("err:"+e)}};renderTiles();var getBackgroundImages=function(){var e=document.getElementsByTagName("body"),t=[],r=e[0].getAttribute("data-backgrounds");return r&&(t=r.split(/[\s,]+/).filter(Boolean)),t},preloadBackgrounds=function(){for(var e=getBackgroundImages(),t=0;t<e.length;t++)(new Image).src=e[t]},rotateBackground=function(e){null==e&&(e=0);var t=getBackgroundImages();t.length>0&&(e=(e+1)%t.length,document.body.style.background='url("'+t[e]+'")',document.body.style.backgroundSize="cover",t.length>1&&setTimeout(rotateBackground.bind(null,e),3e4))};preloadBackgrounds(),rotateBackground();